<!-- <!doctype html>
  <html>
  <head>
  <title>Socket.IO chat</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font: 13px Helvetica, Arial; }
    form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }
    form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }
    form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }
    #messages { list-style-type: none; margin: 0; padding: 0; }
    #messages li { padding: 5px 10px; }
    #messages li:nth-child(odd) { background: #eee; }
  </style>
  </head>
  <script src="/js/socket.io.js"></script>
  <script>
    const socket = io('http://localhost:3000/?token=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1YzMyMjcyOGY1YWM5YzI3MjRkZDc4NTUiLCJkZWxldGVBdCI6Ik1vbiBKYW4gMDcgMjAxOSAwMTo1ODo0MCBHTVQrMDcwMCAoSW5kb2NoaW5hIFRpbWUpIiwiZnVsbE5hbWUiOnsiZmlyc3ROYW1lIjoiTmd1eWVuIiwibGFzdE5hbWUiOiJQYXNzd29yZCJ9LCJlbWFpbCI6ImhvbmdwaG9uZ0BnbWFpbC5jb20iLCJnZW5kZXIiOnRydWUsIl9fdiI6MCwiaWF0IjoxNTUwNzUyNzUwfQ.2Tq20MY0uKfTGmYdqpQsBjdoMRjPVXb3L-vvxs3J_Tk');
    function sendMessage() {
      let message = document.getElementById('m').value;
      message = message.trim();
      if (message) {
        socket.emit('sendingMessage', {
          message: message,
        });
        document.getElementById('m').value = '';
      }
    }
  
    socket.on('sendingMessage', function(data) {
      let eleLi =  document.getElementById('messages');
      const li = document.createElement("li");
      li.appendChild(document.createTextNode(data.message));
      eleLi.appendChild(li);
    });
  
    socket.on('nice game', function(data) {
      alert(data);
    });
  
    socket.on('error', function(error) {
      console.log(error);
    });
  
    function typingMessage() {
      socket.emit('sendingTyping', {
        message: 'A is typing message',
      });
    }
  
    function createGroup() {
      socket.emit(
          'creatingMessage',
          {
            message: 'Hello',
            author: '5c70ba241154623e68718241',
            group:'5c70ba241154623e68718241',
          },
          function(error, data) {
            if (error) {
              console.log(error);
            }
            console.log(data);
          }
      );
  }
  
  function createMessage() {
      socket.emit(
          'creatingGroup',
          {
            name: 'Chem gio',
            members: [1, 2],
            lastMessage: '5c70ba241154623e68718241',
            author: '5c70ba241154623e68718241',
            members: ['5c70ba241154623e68718241', '5c70ba241154623e68718241'],
            type: 'private'
          },
          function(error, data) {
            if (error) {
              console.log(error);
            }
            console.log(data);
          }
      );
  }
  </script>
  <body>
  <ul id="messages"></ul>
  <form action="" onsubmit="return false">
    <input id="m" autocomplete="off" onkeypress="typingMessage()"/>
    <button onclick="createMessage()">Send</button>
    <button onclick="createGroup()">Create group</button>
  </form>
  </body>
  </html> -->
<html>
  <head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" type="text/css" rel="stylesheet" />
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link rel="stylesheet" href="/css/style.css">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!------ Include the above in your HEAD tag ---------->
  </head>
  <script src="/js/socket.io.js"></script>
  <script src="/js/script.js"></script>
  <body onload="getActiveGroup()">
    <div class="container">
      <h3 class=" text-center">Messaging</h3>
      <p id="token" style="visibility:hidden">Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1YzMyMjcyOGY1YWM5YzI3MjRkZDc4NTUiLCJkZWxldGVBdCI6Ik1vbiBKYW4gMDcgMjAxOSAwMTo1ODo0MCBHTVQrMDcwMCAoSW5kb2NoaW5hIFRpbWUpIiwiZnVsbE5hbWUiOnsiZmlyc3ROYW1lIjoiTmd1eWVuIiwibGFzdE5hbWUiOiJQYXNzd29yZCJ9LCJlbWFpbCI6ImhvbmdwaG9uZ0BnbWFpbC5jb20iLCJnZW5kZXIiOnRydWUsIl9fdiI6MCwiaWF0IjoxNTUwNzUyNzUwfQ.2Tq20MY0uKfTGmYdqpQsBjdoMRjPVXb3L-vvxs3J_Tk</p>
      <div class="messaging">
        <div class="inbox_msg">
          <div class="inbox_people">
            <div class="headind_srch">
              <div class="recent_heading">
                <h4>Recent</h4>
              </div>
              <div class="srch_bar">
                <div class="stylish-input-group">
                  <input type="text" class="search-bar" placeholder="Search">
                  <span class="input-group-addon">
                  <button type="button"> <i class="fa fa-search" aria-hidden="true"></i> </button>
                  </span> 
                </div>
              </div>
            </div>
            <div class="inbox_chat">
              
            </div>
          </div>
          <div class="mesgs">
            <div class="msg_history">
              <div class="incoming_msg">
                <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                <div class="received_msg">
                  <div class="received_withd_msg">
                    <p>Test which is a new approach to have all solutions
                    </p>
                    <span class="time_date"> 11:01 AM    |    June 9</span>
                  </div>
                </div>
              </div>
              <div class="outgoing_msg">
                <div class="sent_msg">
                  <p>Test which is a new approach to have all solutions
                  </p>
                  <span class="time_date"> 11:01 AM    |    June 9</span> 
                </div>
              </div>
              <div class="incoming_msg">
                <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                <div class="received_msg">
                  <div class="received_withd_msg">
                    <p>Test, which is a new approach to have</p>
                    <span class="time_date"> 11:01 AM    |    Yesterday</span>
                  </div>
                </div>
              </div>
              <div class="outgoing_msg">
                <div class="sent_msg">
                  <p>Apollo University, Delhi, India Test</p>
                  <span class="time_date"> 11:01 AM    |    Today</span> 
                </div>
              </div>
              <div class="incoming_msg">
                <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                <div class="received_msg">
                  <div class="received_withd_msg">
                    <p>We work directly with our designers and suppliers, and sell direct to you, which means quality, exclusive products, at a price anyone can afford.</p>
                    <span class="time_date"> 11:01 AM    |    Today</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="type_msg">
              <div class="input_msg_write">
                <input type="text" class="write_msg" placeholder="Type a message" />
                <button class="msg_send_btn" type="button"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>